---
/*
  This layout is used in
  - pages/index.astro
*/

import "@fontsource/syne";
import "@fontsource/inter";
import "../styles/global.css";

import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
---

<!DOCTYPE html>
<html class="robertbalaban" lang="en">
	<head>
		<!-- Global Metadata -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="generator" content="Robert Balaban" />
		<slot name="meta" />

		<script is:inline>
			(function () {
				if (typeof window !== "undefined") {
					const isSystemColorSchemeDark = window.matchMedia(
						"(prefers-color-scheme: dark)"
					).matches;
					const storageTheme = sessionStorage.getItem("theme");
					if (!storageTheme && isSystemColorSchemeDark) {
						document.documentElement.classList.add("dark");
						document.head.children.namedItem("theme-color").content = "#0e141b";
					} else if (storageTheme === "dark") {
						document.documentElement.classList.add("dark");
						document.head.children.namedItem("theme-color").content = "#0e141b";
					} else {
						document.head.children.namedItem("theme-color").content = "#ffffff";
					}
				}
			})();
		</script>
	</head>

	<body class="flex flex-col min-h-screen max-w-4xl mx-auto px-6 sm:px-8">
		<Header />
		<main id="main" class="flex-grow">
			<slot name="main" />
		</main>
		<Footer />
	</body>
</html>
